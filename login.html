<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="-1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./output.css" rel="stylesheet" />
    <title>Connexion - VORB</title>
  </head>
  <body
    class="min-h-screen flex flex-col items-center justify-center relative"
    style="
      background-image: url('./bg-02.webp');
      background-size: cover;
      background-position: center;
    "
  >
    <!-- Netflix-style background overlay -->
    <div
      class="absolute inset-0 bg-gradient-to-b from-black via-zinc-900/70 to-black/90 z-0"
    ></div>
    <!-- Hidden form for CHAP authentication -->
    $(if chap-id)
    <form
      name="sendin"
      action="$(link-login-only)"
      method="post"
      style="display: none"
    >
      <input type="hidden" name="username" />
      <input type="hidden" name="password" />
      <!-- <input type="hidden" name="dst" value="$(link-orig)" /> -->
      <input type="hidden" name="dst" value="https://google.com" />
      <input type="hidden" name="popup" value="true" />
    </form>
    <script src="/md5.js"></script>
    <script>
      // Handle CHAP login securely
      function doLogin() {
        document.sendin.username.value = document.login.username.value;
        document.sendin.password.value = hexMD5(
          "$(chap-id)" + document.login.password.value + "$(chap-challenge)"
        );
        document.sendin.submit();
        return false;
      }
    </script>
    $(endif)
    <!-- Main content -->
    <div class="relative z-10 w-full max-w-10/12 md:max-w-sm mx-auto">
      <div class="flex flex-col items-center">
        <!-- Netflix-style logo -->
        <div
          class="text-white flex flex-col justify-end items-end leading-8 mb-2"
        >
          <p class="text-[58px] font-bold">VORB</p>
          <p class="mr-1">ZONE</p>
        </div>
        <form
          name="login"
          action="$(link-login-only)"
          method="post"
          class="bg-black/70 rounded-md px-8 py-10 w-full shadow-lg flex flex-col gap-4"
          $(if chap-id)
          onSubmit="return doLogin()"
          $(endif)
        >
          <input type="hidden" name="dst" value="$(link-orig)" />
          <input type="hidden" name="popup" value="true" />
          <h2 class="text-2xl font-bold text-white mb-2 text-center hidden">
            Identifiez-vous
          </h2>

          <div class="space-y-1">
            $(if error == "")
            <p class="text-sm text-center text-white/90">
              Entrer votre code pour utiliser la connexion $(if trial == 'yes')<br />
              <a
                href="$(link-login-only)?dst=$(link-orig-esc)&amp;username=T-$(mac-esc)"
                class="underline text-blue-400 hover:text-blue-200"
                >Essayer gratuitement</a
              >.$(endif)
            </p>
            $(endif) $(if error)
            <p class="text-sm text-center text-red-500">$(error)</p>
            $(endif)
          </div>

          <div class="flex flex-col gap-2">
            <input
              name="username"
              type="text"
              value="$(username)"
              placeholder="code"
              class="outline-none border border-[#606060] p-3 text-white w-full placeholder-zinc-400 focus-within:border-red-600 ring-red-600 rounded"
            />
            <!-- Show a checkbox to reveal the password field -->
            <div><div class="flex items-center gap-2 mb-2">
              <input
                id="has-password"
                type="checkbox"
                class="accent-red-600 w-3 h-3"
                onclick="document.getElementById('password-field').style.display = this.checked ? 'block' : 'none'"
              />
              <label for="has-password" class="text-white text-xs cursor-pointer select-none">
                J'ai un mot de passe
              </label>
            </div>
            <input
              id="password-field"
              name="password"
              type="password"
              placeholder="mot de passe"
              style="display: none"
              class="outline-none border border-[#606060] p-3 text-white w-full placeholder-zinc-400 focus-within:border-red-600 ring-red-600 rounded"
            /></div>
          </div>
          <button
            type="submit"
            class="mt-0 bg-red-600 hover:bg-red-700 text-white text-sm cursor-pointer p-3 rounded transition-colors duration-200"
          >
            Se connecter
          </button>
          <div class="flex flex-col justify-between items-center mt-2 gap-4 text-xs">
            <a
              href="tel:+243821387202"
              class="text-zinc-300 hover:underline flex gap-1"
            >
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
                </svg>
              Besoin d'aide ?
            </a>
            <div class="flex items-center text-white/80">
              Vous acceptez les Conditions d'utilisation
            </div>
          </div>
        </form>
        <p class="text-zinc-500 text-xs mt-8 text-center">
          Powered by Bertin Sellendo
        </p>
      </div>
    </div>
  </body>
</html>
